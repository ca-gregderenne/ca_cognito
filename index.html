<!DOCTYPE html>
<html>
<head>
    <title>AWS SDK for JavaScript - Authenticate User with Cognito User Pool</title>
    <meta charset="utf-8">
</head>
<body>

<script type="text/javascript" src="aws-sdk-2.77.0.js"></script>
<script type="text/javascript" src="aws-cognito-sdk.js"></script>
<script type="text/javascript" src="amazon-cognito-identity.js"></script>

<script type="text/javascript">

    function importScript(url) {
        var head = document.getElementsByTagName('head')[0];
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.src = url;
        head.appendChild(s);
    }
    if ("undefined" === typeof AWSCognito) {       
        var scripts = [ 
            "https://whelmed.github.io/ca_cognito/aws-sdk-2.77.0.js", 
            "https://whelmed.github.io/ca_cognito/aws-cognito-sdk.js",
            "https://whelmed.github.io/ca_cognito/amazon-cognito-identity.js"
        ];

        for (var i=0; i<scripts.length; i++) {
            importScript(scripts[i]);
        }
    }
    
</script>

<script>   
var authenticationData = {
        Username : 'GregDoe',
        Password : 'GregDoe',
    };
    var authenticationDetails = new AWSCognito.CognitoIdentityServiceProvider.AuthenticationDetails(authenticationData);
    var poolData = { 
        UserPoolId : 'POOL_ID',
        ClientId : 'CLIENT_ID'
    };
    var userPool = new AWSCognito.CognitoIdentityServiceProvider.CognitoUserPool(poolData);
    var userData = {
        Username : 'username',
        Pool : userPool
    };
    var cognitoUser = new AWSCognito.CognitoIdentityServiceProvider.CognitoUser(userData);
    cognitoUser.authenticateUser(authenticationDetails, {
        onSuccess: function (result) {
            console.log('access token + ' + result.getAccessToken().getJwtToken());
            /*Use the idToken for Logins Map when Federating User Pools with Cognito Identity or when passing through an Authorization Header to an API Gateway Authorizer*/
            console.log('idToken + ' + result.idToken.jwtToken);
        },

        onFailure: function(err) {
            alert(err);
        },

    });
</script>
</body>
</html>